<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>HoÅŸ Geldiniz, {{ currentUser?.name }}! ğŸ‘‹</h1>
    <p class="subtitle">KÃ¼tÃ¼phane Rezervasyon Sistemi</p>
  </div>

  <div class="stats-grid" *ngIf="!isLoading">
    <div class="stat-card">
      <div class="stat-icon">ğŸ¢</div>
      <div class="stat-info">
        <h3>{{ roomCount }}</h3>
        <p>Toplam Oda</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">ğŸ’»</div>
      <div class="stat-info">
        <h3>{{ equipmentCount }}</h3>
        <p>Toplam Ekipman</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">ğŸ“‹</div>
      <div class="stat-info">
        <h3>{{ activeReservationCount }}</h3>
        <p>Aktif RezervasyonlarÄ±m</p>
      </div>
    </div>

    <div class="stat-card highlight">
      <div class="stat-icon">âš¡</div>
      <div class="stat-info">
        <h3>{{ 2 - activeReservationCount }}</h3>
        <p>Kalan Rezervasyon HakkÄ±</p>
      </div>
    </div>
  </div>

  <div class="quick-actions">
    <h2>HÄ±zlÄ± Ä°ÅŸlemler</h2>
    <div class="action-buttons">
      <a routerLink="/rooms" class="action-btn">
        <span class="action-icon">ğŸ¢</span>
        <span class="action-text">Oda Rezervasyonu</span>
      </a>
      <a routerLink="/reservations" class="action-btn">
        <span class="action-icon">ğŸ“‹</span>
        <span class="action-text">RezervasyonlarÄ±m</span>
      </a>
    </div>
  </div>

  <div class="recent-reservations card">
    <h2>Son RezervasyonlarÄ±m</h2>
    
    <div *ngIf="isLoading" class="loading">
      YÃ¼kleniyor...
    </div>

    <div *ngIf="!isLoading && myReservations.length === 0" class="empty-state">
      <p>ğŸ“­ HenÃ¼z aktif rezervasyonunuz bulunmuyor.</p>
      <a routerLink="/rooms" class="btn btn-primary">Ä°lk Rezervasyonunuzu YapÄ±n</a>
    </div>

    <table class="table" *ngIf="!isLoading && myReservations.length > 0">
      <thead>
        <tr>
          <th>Tarih</th>
          <th>Kaynak</th>
          <th>Zaman</th>
          <th>Durum</th>
          <th>Ä°ÅŸlemler</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let reservation of myReservations">
          <td>{{ reservation.reservationDate }}</td>
          <td>
            <span *ngIf="reservation.room">
              ğŸ¢ {{ reservation.room.name }}
            </span>
            <span *ngIf="reservation.equipment">
              ğŸ’» {{ reservation.equipment.name }}
            </span>
          </td>
          <td>
            {{ reservation.timeSlot?.startTime }} - {{ reservation.timeSlot?.endTime }}
          </td>
          <td>
            <span class="badge" [ngClass]="getStatusBadge(reservation.status)">
              {{ getStatusText(reservation.status) }}
            </span>
          </td>
          <td>
            <button 
              class="btn btn-danger btn-sm"
              (click)="cancelReservation(reservation.reservationId)"
              *ngIf="reservation.status !== 'IPTAL_EDILDI'"
            >
              Ä°ptal Et
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>